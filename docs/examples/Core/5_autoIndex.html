<!DOCTYPE html>
<html>
<head>
    <title>KUBEjs Core: Add Namespace Index</title>
    <!-- Include KUBE.js -->
    <script src="../../../src/KUBE.js"></script>

    <!-- Set up our ExampleIndex -->
    <script type="text/javascript">

        //Let's load our ExampleIndex (we will do this inline here for the example, but the full ExampleIndex is in ../js/ExampleIndex.js)
        (function(KUBE){
            "use strict";
            //First we'll get a new Index Object from the KUBE AutoLoader
            var ExampleIndex = KUBE.AutoLoad().GetNewIndex();

            //Then we'll set the namespace
            ExampleIndex.SetNamespace('/KUBEjs/Examples');

            //Our baseURL tells which directory to load files from (KUBE.Config().autoLoadPath will point to the KUBEjs/src)
            ExampleIndex.SetBaseURL(KUBE.Config().autoLoadPath+'/../../docs/examples/Tests');

            //And then we set which classes our available in our Index (it will expect file names to match class names
            ExampleIndex.SetIndex([
                'Logger'
            ]);

            //Now we add our Index object back to the KUBE AutoLoader
            KUBE.AutoLoad().AddIndex(ExampleIndex);
        }(KUBE));

    </script>

    <!-- Now let's try our index -->
    <script>
        KUBE.Uses('/KUBEjs/Examples/Logger').then(function(_Logger){
            var Log1 = _Logger(); //New logger

            //We have access to its API
            Log1.Add('This is a test of adding a namespace index');
            Log1.Log();
        });
    </script>

</head>
<body>
Example outputs to console.
</body>
</html>