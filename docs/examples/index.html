<!DOCTYPE html>
<html>
<head>
    <title>KUBEjs Examples: Table of Contents</title>
    <!-- Include KUBE.js -->
    <script src="../../src/KUBE.js"></script>

    <!-- Include an Index custom to this project (we could defer this as well with KUBE.AutoLoad().LoadAutoIndex()) -->
    <script src="js/ExampleIndex.js"></script>

    <!-- Build out our Table of Contents for our Examples -->
    <script type="text/javascript">

        //Set up a key:value object
        //  -key    = alias
        //  -value  = namespace of KUBE Class
        var uses = {
            'DJ':'/Library/DOM/DomJack',
            'SJ':'/Library/DOM/StyleJack',
            'ToC':'/KUBEjs/Examples/TableOfContents'
        };

        //Request dependancy resolution. Returns a promise (var p.then(callback)) which can be used instead of the callback
        KUBE.Uses(uses,resolved);

        //When the dependancies resolve, receives an object that matches initial uses object
        function resolved($K){
            //$K.DJ == /Library/DOM/DomJack (Dom Abstraction: See DomJack examples)
            $K.DJ().Ready(function(){ domLoaded($K) }); //Let's pass our initial uses object in
        }

        function domLoaded($K){
            alert(KUBE.Is($K.ToC(),true));
        }
    </script>
</head>
<body>

</body>
</html>